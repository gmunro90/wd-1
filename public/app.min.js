"use strict";var el=document.getElementById("all-phones"),apiService=new WebsyDesigns.APIService("http://localhost:3000");function renderPhoneList(){apiService.get("phones").then(function(e){router.currentParams.items.brand&&""!==router.currentParams.items.brand&&(e=e.filter(function(e){return e.brand===router.currentParams.items.brand})),router.currentParams.items.color&&(e=e.filter(function(e){return e.color===router.currentParams.items.color}));var t=e.map(function(e){return'\n      <div class="card websy-trigger" data-view="phonedetail?id='.concat(e.id,'" width="300px">\n      \n      <img src=').concat(e.image_url,' width="200px class="card--image">\n      \n      <div class="card--stats">\n          <span class="card--star">').concat(e.rating,'</span>\n      </div>\n      <p class="card--title">').concat(e.name,'</p>\n      <p class="card--price"><span class="bold">').concat(e.price,"</span></p>\n      \n      </div>\n      ")}).join("");el.innerHTML=t})}renderPhoneList();var appleEl=document.getElementById("apple-phones"),appleService=new WebsyDesigns.APIService("http://localhost:3000");appleService.get("phones").then(function(e){var t=e.filter(function(e){return"Apple"===e.brand}).map(function(e){return'\n    <div class="card websy-trigger" data-view="phonedetail?id='.concat(e.id,'">\n    <img src=').concat(e.image_url,' width="200px class="card--image">\n    <div class="card--stats">\n        <span class="card--star">').concat(e.rating,'</span>\n    </div>\n    <p class="card--title">').concat(e.name,'</p>\n    <p class="card--price"><span class="bold">').concat(e.price,"</span></p>\n    </div>\n    ")}).join("");appleEl.innerHTML=t});var samsungEl=document.getElementById("samsung-phones"),samsungService=new WebsyDesigns.APIService("http://localhost:3000");samsungService.get("phones").then(function(e){var t=e.filter(function(e){return"Samsung"===e.brand}).map(function(e){return'\n    <div class="card websy-trigger" data-view="phonedetail?id='.concat(e.id,'">\n    <img src=').concat(e.image_url,' width="200px class="card--image">\n    <div class="card--stats">\n        <span class="card--star">').concat(e.rating,'</span>\n    </div>\n    <p class="card--title">').concat(e.name,'</p>\n    <p class="card--price"><span class="bold">').concat(e.price,"</span></p>\n    </div>\n    ")}).join("");samsungEl.innerHTML=t});var data,detail=document.getElementById("phonedetail"),shoppingCart=document.getElementById("shopping-cart"),countEl=document.getElementById("item-count"),detailService=new WebsyDesigns.APIService("http://localhost:3000");function renderPhoneDetail(n){detailService.get("phones").then(function(e){var t=(data=e).filter(function(e){return e.id===+n}).map(function(e){return'<div class="phone-detail-card">\n      <div class="card" width="300px">\n      \n      <img src='.concat(e.image_url,' width="200px class="card--image">\n      \n      <div class="card--stats">\n          <span class="card--star">').concat(e.rating,'</span>\n      </div>\n      <p class="card--title">').concat(e.name,'</p>\n      <h3 class="card--price"><span class="bold">').concat(e.price,'</span></h3>\n     <br/>\n     <button class="add-cart" id="add-cart" onclick="addToCart(').concat(e.id,')"><i class="fa-solid fa-cart-plus"></i>Add to cart</button>\n     <p>').concat(e.detailed_description,"</p>\n      </div>\n      </div>\n      ")});detail.innerHTML=t})}renderPhoneDetail();var cart=[],count=0,updateCart=localStorage.getItem("updateCart");function addToCart(t){var e=data.find(function(e){return e.id===t});cart.push(e),console.log(cart),shoppingCart.innerHTML+=' <div class="cart-list"> <div class="cart-item"> \n\n      <h3>'.concat(e.name,"</h3>\n      <img src=").concat(e.image_url,' width="200px">\n      <p>').concat(e.description,"</p>\n      <b><p>").concat(e.price,'</p></b>\n      <button onclick="decrement()">Remove</button>\n  </div></div>'),localStorage.setItem("updateCart",JSON.stringify(cart)),increment()}function increment(){count+=1,countEl.textContent=count}function removeFromCart(t){data.find(function(e){return e.id===t});cart.filter(function(e){return e.id}),decrement()}function decrement(){0<count&&(count-=1,countEl.textContent=count),localStorage.setItem("updateCart",JSON.stringify(cart))}""!==updateCart&&(updateCart=JSON.parse(updateCart),detailService.get("phones").then(function(e){data=e,updateCart.forEach(function(e){return addToCart(e.id)})}));var options={defaultView:"home"},router=new WebsyDesigns.Router(options);router.on("show",function(e,t){"phonedetail"===e&&renderPhoneDetail(t.items.id)}),router.on("hide",function(e){console.log(e)}),router.init();var darkMode=localStorage.getItem("darkMode");document.body.classList["enabled"===darkMode?"add":"remove"]("dark-mode");var i,switchTest=new WebsyDesigns.Switch("dark-mode",{label:"☀️/🌙",enabled:"enabled"===darkMode,onToggle:function(e){localStorage.setItem("darkMode",e?"enabled":null),document.body.classList[e?"add":"remove"]("dark-mode")}}),brandFilter=new WebsyDesigns.WebsyDropdown("dropdown-2",{label:"Brand",multiSelect:!0,onItemSelected:function(e,t,n){console.log(e,t,n),router.addUrlParams({brand:e.label}),renderPhoneList()},onClearSelected:function(){router.addUrlParams({brand:""}),renderPhoneList()},items:[{label:"Apple"},{label:"Samsung"}]}),colorFilter=new WebsyDesigns.WebsyDropdown("dropdown-3",{label:"Color",multiSelect:!0,onItemSelected:function(e,t,n){console.log(e,t,n),router.addUrlParams({color:e.label}),renderPhoneList()},items:[{label:"Black"},{label:"White"},{label:"Blue"},{label:"Purple"},{label:"Red"}]}),coll=document.getElementsByClassName("collapsible");for(i=0;i<coll.length;i++)coll[i].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"});var hamBtn=document.getElementById("hamburger"),navList=document.getElementById("cent"),rightBtns=document.getElementById("right");function toggleButton(){navList.classList.toggle("show"),rightBtns.classList.toggle("show")}hamBtn.addEventListener("click",toggleButton);